/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * Clase que permite modifica una
 * pregunta que el usuario desee.
 * Created on Nov 15, 2010, 3:21:18 PM
 */
package formularios;

import clases.*;
import java.sql.SQLException;

/**
 *
 * @author USUARIO
 */
public class modificar extends javax.swing.JFrame {

    private Conexion con = new Conexion();
    Operaciones oper = new Operaciones();

    /**
     * Constructor de la
     * clase Modificar.
     */
    public modificar() {
        initComponents();
        jlIco.setVisible(false);
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        jPanel1 = new javax.swing.JPanel();
        jftPregunta = new javax.swing.JTextField();
        jftRespuesta = new javax.swing.JTextField();
        jbnModificar = new javax.swing.JButton();
        jtfNumPregunta = new javax.swing.JTextField();
        jLabel3 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        jLabel5 = new javax.swing.JLabel();
        jlMODIF = new javax.swing.JLabel();
        jlIco = new javax.swing.JLabel();
        jLabel1 = new javax.swing.JLabel();
        jPanel2 = new javax.swing.JPanel();
        jLabel2 = new javax.swing.JLabel();
        jtfbuscar = new javax.swing.JTextField();
        jbnBuscar = new javax.swing.JButton();
        jLabel6 = new javax.swing.JLabel();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setMinimumSize(new java.awt.Dimension(397, 371));
        setResizable(false);
        getContentPane().setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jPanel1.setBorder(javax.swing.BorderFactory.createTitledBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 5, true), "Modificar Preguntas", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 12))); // NOI18N
        jPanel1.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());
        jPanel1.add(jftPregunta, new org.netbeans.lib.awtextra.AbsoluteConstraints(88, 61, 254, -1));
        jPanel1.add(jftRespuesta, new org.netbeans.lib.awtextra.AbsoluteConstraints(88, 99, 254, -1));

        jbnModificar.setText("Modificar");
        jbnModificar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jbnModificarActionPerformed(evt);
            }
        });
        jPanel1.add(jbnModificar, new org.netbeans.lib.awtextra.AbsoluteConstraints(140, 130, -1, -1));
        jPanel1.add(jtfNumPregunta, new org.netbeans.lib.awtextra.AbsoluteConstraints(136, 23, 118, -1));

        jLabel3.setText("Numero de Pregunta");
        jPanel1.add(jLabel3, new org.netbeans.lib.awtextra.AbsoluteConstraints(19, 26, -1, -1));

        jLabel4.setText("Pregunta");
        jPanel1.add(jLabel4, new org.netbeans.lib.awtextra.AbsoluteConstraints(19, 64, -1, -1));

        jLabel5.setText("Respuesta");
        jPanel1.add(jLabel5, new org.netbeans.lib.awtextra.AbsoluteConstraints(19, 105, -1, -1));

        jlMODIF.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        jPanel1.add(jlMODIF, new org.netbeans.lib.awtextra.AbsoluteConstraints(110, 160, 153, 24));

        jlIco.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagenes/icono.jpg"))); // NOI18N
        jPanel1.add(jlIco, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 140, 40, 40));

        getContentPane().add(jPanel1, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 160, 370, 200));

        jLabel1.setFont(new java.awt.Font("Tahoma", 1, 18));
        jLabel1.setText("Modificacion de Preguntas");
        getContentPane().add(jLabel1, new org.netbeans.lib.awtextra.AbsoluteConstraints(80, 10, -1, -1));

        jPanel2.setBorder(javax.swing.BorderFactory.createTitledBorder(new javax.swing.border.LineBorder(new java.awt.Color(0, 0, 0), 5, true), "Busacar Pregunta", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 1, 12))); // NOI18N
        jPanel2.setLayout(new org.netbeans.lib.awtextra.AbsoluteLayout());

        jLabel2.setText("Introduzca el numero de pregunta a modificar:");
        jPanel2.add(jLabel2, new org.netbeans.lib.awtextra.AbsoluteConstraints(70, 30, -1, -1));
        jPanel2.add(jtfbuscar, new org.netbeans.lib.awtextra.AbsoluteConstraints(90, 60, 121, -1));

        jbnBuscar.setText("Buscar");
        jbnBuscar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jbnBuscarActionPerformed(evt);
            }
        });
        jPanel2.add(jbnBuscar, new org.netbeans.lib.awtextra.AbsoluteConstraints(230, 60, 96, -1));

        jLabel6.setIcon(new javax.swing.ImageIcon(getClass().getResource("/imagenes/editoresweb.gif"))); // NOI18N
        jPanel2.add(jLabel6, new org.netbeans.lib.awtextra.AbsoluteConstraints(30, 50, -1, -1));

        getContentPane().add(jPanel2, new org.netbeans.lib.awtextra.AbsoluteConstraints(10, 46, 370, 110));

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void jbnBuscarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jbnBuscarActionPerformed
        // TODO add your handling code here:
        jlIco.setVisible(false);
        jlMODIF.setVisible(false);
        String num = jtfbuscar.getText() + ":";
        try {
            oper.enlazar(num);
            jtfNumPregunta.setText(oper.numero);
            jftPregunta.setText(oper.pregun);
            jftRespuesta.setText(oper.respues);
        } catch (SQLException ex) {
            ex.printStackTrace();
        }
    }//GEN-LAST:event_jbnBuscarActionPerformed

    private void jbnModificarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jbnModificarActionPerformed
        // TODO add your handling code here:
        String num, pre, resp;
        num = jtfNumPregunta.getText();
        pre = jftPregunta.getText();
        resp = jftRespuesta.getText();
        jlMODIF.setText("Modificaci√≥n aceptada");
        jlMODIF.setVisible(true);
        jlIco.setVisible(true);
        try {
            oper.actualizar(num, resp, pre);
        } catch (Exception e) {
            e.printStackTrace();
        }
        jtfNumPregunta.setText("");
        jftPregunta.setText("");
        jftRespuesta.setText("");
    }//GEN-LAST:event_jbnModificarActionPerformed

    /**
     * Metodo principal de la clase
     * modificar.java
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                modificar obj = new modificar();
                obj.setLocationRelativeTo(null);
                obj.setVisible(true);
            }
        });
    }
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JButton jbnBuscar;
    private javax.swing.JButton jbnModificar;
    private javax.swing.JTextField jftPregunta;
    private javax.swing.JTextField jftRespuesta;
    private javax.swing.JLabel jlIco;
    private javax.swing.JLabel jlMODIF;
    private javax.swing.JTextField jtfNumPregunta;
    private javax.swing.JTextField jtfbuscar;
    // End of variables declaration//GEN-END:variables
}
